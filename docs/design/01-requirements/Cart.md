## 장바구니

### 장바구니 조회
* 시나리오 : "장바구니에 담은 상품리스트를 조회할 수 있다."
* 기능명세
    * 주체(Actor) :회원
    * 주요 시나리오
        * 회원이 사용자id로 장바구니 목록을 요청한다.
        * 시스템은 사용자id에 맞는 장바구니 목록을 반환한다.
    * 시스템 동작
        * 사용자 정보를 검증한다.
        * 사용자 id로 db에서 장바구니 리스트를 조회한다.
        * 각 상품 id에 맞는 상품 정보를 조회한다.
        * 장바구니 목록을 반환한다.
    * 예외
        * 존재하지 않는 회원일 경우
            * 인증 헤더 없음 / 401 UNAUTHORIZED

### 장바구니 넣기
* 시나리오 : "회원은 마음에 드는 상품을 장바구니에 넣을 수 있다"
* 기능명세
    * 주체(Actor) :회원
    * 주요 시나리오
        * 회원은 사용자id와 상품정보로 장바구니에 상품등록을 요청한다.
        * 시스템은 사용자에게 받은 id와 상품정보로 장바구니에 상품을 등록한다.
    * 시스템 동작
        * 사용자 정보를 검증한다.
        * 상품 판매 여부를 확인한다.
        * 상품 재고 현황을 확인한다
        * 상품이 장바구니에 있는지 확인한다
        * 상품이 장바구니에 존재 할 경우 상품 수량을 증가시킨다
        * 상품이 장바구니에 존재하지 않을 경우 상품을 등록한다
    * 예외
        * 존재하지 않는 회원일 경우
            * 인증 헤더 없음 / 401 UNAUTHORIZED
        * 존재하지 않는 상품일 경우
            * 잘못된 productid / 404 not found
        * 판매하고 있는 상품이 아닌 경우
            * 상품이 판매중 외 상태 / 409 CONFLICT
        * 상품 갯수가 최대 개수를 넘어가는 경우
            * 비즈니스 룰 벗어남 / 400 BAD_REQUEST
        * 장바구니 저장을 실패할 경우
            * db연결 실패, transaction 실패, 외부 api 콜 실패 / 500 INTERNAL SERVER ERROR


### 장바구니 상품 삭제
* 시나리오 : "회원은 장바구니에 담았던 상품을 삭제할 수 있다."
* 기능명세
    * 주체(Actor) :회원
    * 주요 시나리오
        * 회원이 장바구니에 담긴 상품을 삭제 요청한다.
        * 시스템은 사용자 id와 상품정보로 장바구니에 있는 상품을 삭제한다.
    * 시스템 동작
        * 사용자 정보를 검증한다.
        * 상품이 장바구니에 존재하는지 확인한다.
        * 상품을 장바구니에서 삭제한다.
    * 예외
        * 존재하지 않는 회원일 경우
            * 인증 헤더 없음 / 401 UNAUTHORIZED
        * 존재하지 않는 장바구니 상품일 경우
            * 잘못된 productid / 404 not found